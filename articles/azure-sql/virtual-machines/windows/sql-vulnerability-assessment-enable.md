---
title: SQL Vulnerability Assessment for SQL Server on Azure VMs 
description: Describes the SQL Vulnerability Assessment for SQL Server databases running on Azure Virtual Machines.
services: virtual-machines-windows
author: MashaMSFT
ms.service: virtual-machines-sql
ms.topic: conceptual
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 12/02/2020
ms.author: mathoma
---
# SQL Vulnerability Assessment for SQL Server on Azure VMs
[!INCLUDE[appliesto-sqlvm](../../includes/appliesto-sqlvm.md)]

SQL Vulnerability Assessment is an easy-to-configure service that can discover, track, and help you remediate potential database vulnerabilities. Use it to proactively improve your database security for your SQL Server on Azure VMs. 

Vulnerability Assessment is part of the [Azure Defender for SQL](../../database/azure-defender-for-sql.md) offering, which is a unified package for advanced SQL security capabilities. Vulnerability Assessment can be accessed and managed via the central Azure Defender for SQL portal or via the Azure Security Center. 

## Overview

SQL Vulnerability Assessment is a service that provides visibility into your security state. Vulnerability Assessment includes actionable steps to resolve security issues and enhance your database security. It can help you: 

- Meet compliance requirements that require database scan reports. 
- Meet data privacy standards. 
- Monitor a dynamic database environment where changes are difficult to track. 

Vulnerability Assessment is a scanning service that employs a knowledge base of rules that flag security vulnerabilities. It highlights deviations from best practices such as misconfigurations, excessive permissions, and unprotected sensitive data. 

The rules are based on Microsoft's best practices and focus on the security issues that present the biggest risks to your database and its valuable data. They cover database-level issues and server-level security issues, like server firewall settings and server-level permissions. These rules also represent many of the requirements from various regulatory bodies to meet their compliance standards. 

Results of the scan include actionable steps to resolve each issue and provide customized remediation scripts where applicable. You can customize an assessment report for your environment by setting an acceptable baseline for: 

- Permission configurations 
- Feature configurations 
- Database settings 

## Implement Vulnerability Assessment

Enable Azure Defender for SQL Servers on machines to implement the Vulnerability Assessment. 

To use the Azure Defender for SQL Server, follow these steps:

1. [Enable auto provisioning of the Log Analytics agent](../../../security-center/security-center-enable-data-collection.md#auto-provision-mma)
1. [Enable the optional Security Center plan](../../../security-center/defender-for-sql-usage.md#step-2-enable-the-optional-plan-in-security-centers-pricing-and-settings-page)

Once Azure Defender for SQL is enabled on your virtual machine, your databases will be automatically scanned every 12 hours to identify security vulnerabilities. Results are sent to Azure Security Center for a centralized aggregated view of the SQL data estate protected by Azure Defender for SQL. 

> [!NOTE]
> The scan is lightweight, safe, only takes a few seconds per database to run and is entirely read-only. It does not make any changes to your database. 

## View report

The database report presents an overview of your security state. It lists how many issues were found and their respective severities. Results include warnings on deviations from best practices and a snapshot of your security-related settings, such as database principals and roles and their associated permissions.  


View the report in the Security tab of the scanned virtual machine:

Or, alternatively, via the recommendation blade in Azure Security Center. 

## Analyze results

Review your results and identify findings in the report that are true security issues in your environment. Drill down to each failed result to understand the impact of the finding and why each security check failed.  

## Set baseline 

As you review your assessment results, you can mark results as being an acceptable baseline in your environment. The baseline is essentially a customization of how the results are reported. Results that match the baseline are considered as passing in subsequent scans. After you've established your baseline security state, Vulnerability Assessment only reports on deviations from the baseline. In this way, you can focus your attention on the relevant issues. 

## Export results

Use the [Continuous export](../../../security-center/continuous-export.md) feature of the Azure Security Center to export vulnerability assessment findings to Azure Event Hub or to Log Analytics workspace. 


## Next steps

To learn more, see [SQL Vulnerability Assessment](/sql/relational-databases/security/sql-vulnerability-assessment).

