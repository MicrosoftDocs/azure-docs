---
title: Troubleshooting PSTN call failures - Azure Communication Services
description: How to troubleshoot PSTN call failures by logging and viewing call codes.
services: azure-communication-services
ms.date: 11/24/2023
author: slpavkov
ms.service: azure-communication-services
ms.author: slpavkov
manager: aakanmu
audience: ITPro
ms.topic: troubleshooting
localization_priority: Normal
---
# Troubleshooting Azure Communication Services PSTN call failures

When troubleshooting Azure Communication Services PSTN call failures, we recommended that you [enable logging](../analytics/enable-logging.md). Then you can use `ResultCategories`, `ParticipantEndReason`, and `ParticipantEndSubCode` values to determine why an individual call ended and whether the system detected any failures.

## Using ResultCategories to troubleshoot PSTN call failures

The `ResultCategories` array is a property of the [Call summary log schema](../analytics/logs/voice-and-video-logs.md#call-summary-log-schema) and contains a list of general reasons describing how the call ended.

General reasons that a call ended:

- Success
- Failure
- UnexpectedClientError
- UnexpectedServerError

This information can help developers determine why a call ended without generating a detailed error log.

If this level of detail isn't sufficient, then developers can use `ParticipantEndReason` and `ParticipantEndSubCode` to understand the reasons for call end in greater detail. For more information, see the next section.

## Using ParticipantEndReason and ParticipantEndSubCode to troubleshoot PSTN call failures

The `ParticipantEndReason` and `ParticipantEndSubCode` are properties of the [Call summary log schema](../analytics/logs/voice-and-video-logs.md#call-summary-log-schema) and provide more details about why the call ended.

When you're troubleshooting PSTN calls, use these two properties to understand why the call ended as follows:

- **`ParticipantEndReason`**: A three-digit code that shows the general call status. This code explains why the call ended, and groups failures by category. For example, `ParticipantEndReason 404` tells us that caller/callee wasn't found, `ParticipantEndReason 500` means that a service error occurred, and so on. This code is based on the SIP response codes. For more information, see Wikipedia's [List of SIP response codes](https://en.wikipedia.org/wiki/List_of_SIP_response_codes).

- **`ParticipantEndSubCode`** : A more specific response code, usually six digits long, that explains in greater detail why there was a problem with the call.
  
## Understanding the ParticipantEndSubCode relationship

A key factor in troubleshooting Azure Communication Services PSTN calls is determining whether the final response code for the call comes from a Microsoft process or the users/operators Session Border Controller (SBC). An easy way to determine where the code originated is to look at the `ParticipantEndSubCode` response.

If the `ParticipantEndSubCode` starts with **560**, it indicates that the response code is generated by the users/operators Session Border Controller (SBC), so developers should check their SBC configuration.

- For example, if the `ParticipantEndSubCode` is **560403**, it means that the final response code is generated by the SBC, and the last three digits indicate SIP response code **403**. In this case, a developer should start troubleshooting the calls using the SBC logs.

For all other `ParticipantEndSubCode` responses that don't start with **560**, the final response code is generated by a Microsoft service.

## Detailed information on individual error codes

For more information about common error codes and suggested actions, see [Troubleshooting call end response codes for Calling SDK, Call Automation SDK, and PSTN calls](../troubleshooting-codes.md).

## Related articles

For more information, see [Troubleshooting in Azure Communication Services](../troubleshooting-info.md).