---
title: AI compositions in Azure Video Analyzer
description: This article gives a high-level overview of Azure Video Analyzer support for three kinds of AI composition. The topic also provides scenario explanation for each kind of AI composition.
ms.topic: conceptual
ms.date: 04/14/2021

---

# AI composition

This article gives a high-level overview of Azure Video Analyzer support for three kinds of AI composition. The topic also provides scenarios for each kind of AI composition.

* [Sequential](#sequential-ai-composition)
* [Parallel](#parallel-ai-composition)
* [Combined](#combined-ai-composition)

## Sequential AI composition

AI nodes can be sequentially composed. This allows a downstream node to augment inferences generated by an upstream node.

> [!div class="mx-imgBorder"]
> :::image type="content" source="./media/ai-composition/sequential.png" alt-text="Sequential AI composition":::
 
### Key aspects

* Graph extensions act as media passthrough nodes:

    * External AI servers can choose to receive frames at different rates.
    * External AI servers can choose to receive frames at different format and resolutions.
    * External AI servers can choose to receive all frames or only frames, which already contain inferences.
* Inferences are added to the frames as they go through the different extension nodes.
* An unlimited number of nodes can be added in sequence.
* Other scenarios can be combined with this:
    
    * Clip recording
    * Continuous video recoding
    * Other
    
## Parallel AI composition

AI nodes can be parallel composed. This allows independent inferences to be performed on the ingested video stream.

> [!div class="mx-imgBorder"]
> :::image type="content" source="./media/ai-composition/parallel.png" alt-text="Parallel AI composition":::
 
### Key aspects

* Video can be split into parallel branches.

    * An arbitrary number of parallel branches can be created.
* Split can happen at any point after the following nodes.
    
    * RTSP source
    * Motion
    * AV filter
    * Graph extension

## Combined AI composition

Sequential and parallel nodes can be combined.

> [!div class="mx-imgBorder"]
> :::image type="content" source="./media/ai-composition/complex.png" alt-text="Combined AI composition":::
 
### Key aspects

* Extension nodes can be combined sequentially and/or with a parallel composition indefinitely.
* Other supported nodes can be added to the graph. 

## Next steps

[How To record an object of interest to AMS asset using multiple AI modelsAI](ai-composition.md)
