---
title: "AZFD0003: Encountered a StorageException while trying to fetch the diagnostic events."
titleSuffix: "Azure Functions"
description: "AZFD0003: Encountered a StorageException while trying to fetch the diagnostic events."
author: soninaren
ms.author: nasoni
ms.topic: troubleshooting
ms.date: 09/03/2022
---

# AZFD0003: Encountered a StorageException while trying to fetch the diagnostic events.

This event is triggered when the Azure Storage connection string stored within the `AzureWebJobsStorage` does not have permissions to access table storage or causes the storage exceptions when trying to connect to Azure Storage.

| | Value |
|-|-|
| **Event ID** |AZFD0003|
| **Category** |[Usage]|
| **Severity** |Error|

## Event description
`AzureWebJobsStorage` app setting is used to store the connection string of the Azure Storage associated with the function app. The Azure Functions runtime uses this connection for core behaviors such as coordinating singleton execution of timer triggers, default app key storage and storing diagnostic events. 

This `AzureWebJobsStorage` needs to have permissions (read, write, delete, add and create) to table storage to be able store and fetch diagnostic events.

For more information on `AzureWebJobsStorage` information, see https://docs.microsoft.com/azure/azure-functions/functions-app-settings#azurewebjobsstorage

## How to resolve the event
The connection string stored in `AzureWebJobsStorage` app setting needs to have read, write, delete, add and create permissions to Azure Table storage. Additionally Azure Storage clients should be able to Azure Storage with this connection string without incurring Storage exceptions.

## When to suppress the event
This event should not be suppressed.