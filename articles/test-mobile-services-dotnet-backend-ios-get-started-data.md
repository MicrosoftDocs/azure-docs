<properties linkid="develop-mobile-tutorials-dotnet-backend-get-started-with-data-ios" urlDisplayName="Get Started with Data" pageTitle="Get started with data (iOS) | Mobile Dev Center" metaKeywords="Azure iOS data, Azure mobile services data, " description="Learn how to get started using Mobile Services to leverage data in your iOS app." metaCanonical="" services="" documentationCenter="Mobile" title="Get started with data in Mobile Services" authors="glenga" solutions="" manager="" editor="" />




# Get started with data in Mobile Services

> [AZURE.SELECTOR-LIST (Platform | Backend )]
- [(Android | .NET)](/en-us/documentation/articles/test-mobile-services-dotnet-backend-android-get-started-data/)
- [(Android | JavaScript)](/en-us/documentation/articles/test-mobile-services-android-get-started-data/)
- [(HTML | JavaScript)](/en-us/documentation/articles/test-mobile-services-html-get-started-data/)
- [(iOS | .NET)](/en-us/documentation/articles/test-mobile-services-dotnet-backend-ios-get-started-data/)
- [(iOS | Javascript)](/en-us/documentation/articles/test-mobile-services-ios-get-started-data/)
- [(Windows Phone | .NET)](/en-us/documentation/articles/test-mobile-services-dotnet-backend-windows-phone-get-started-data/)
- [(Windows Phone | Javascript)](/en-us/documentation/articles/test-mobile-services-windows-phone-get-started-data/)
- [(Windows Store C# | .NET)](/en-us/documentation/articles/test-mobile-services-dotnet-backend-windows-store-dotnet-get-started-data/)
- [(Windows Store C# | Javascript)](/en-us/documentation/articles/test-mobile-services-windows-store-dotnet-get-started-data/)
- [(Windows Store JavaScript | .NET)](/en-us/documentation/articles/test-mobile-services-dotnet-backend-windows-store-javascript-get-started-data/)
- [(Windows Store JavaScript | Javascript)](/en-us/documentation/articles/test-mobile-services-windows-store-javascript-get-started-data/)

This topic shows you how to use Azure Mobile Services to leverage data in an iOS app. In this tutorial, you will download an app that stores data in memory, create a new mobile service, integrate the mobile service with the app, and then login to the Azure Management Portal to view changes to data made when running the app.

The mobile service that you create in this tutorial supports the .NET runtime in the Mobile Service. This allows you to use .NET languages and Visual Studio for server-side business logic in the mobile service. To create a mobile service that lets you write your server-side business logic in JavaScript, see the [JavaScript backend version] of this topic.

<div class="dev-callout"><b>Note</b>
<p>This tutorial requires Visual Studio 2013.</p>
</div>

<div class="dev-callout"><b>Note</b>
<p>This tutorial is intended to help you better understand how Mobile Services enables you to use Azure to store and retrieve data from an iOS app. As such, this topic walks you through many of the steps that are completed for you in the Mobile Services quickstart. If this is your first experience with Mobile Services, consider first completing the tutorial <a href="/en-us/develop/mobile/tutorials/get-started-ios">Get started with Mobile Services</a>.</p>
</div>

This tutorial walks you through these basic steps:

1. [Download the iOS app project] 
2. [Create the mobile service]
3. [Download the service locally]
4. [Test the mobile service]
5. [Publish the mobile service to Azure]
6. [Add a data table for storage]
7. [Update the app to use Mobile Services]
8. [Test the app against Mobile Services]

This tutorial requires the [Mobile Services iOS SDK] and [XCode 4.5][Install Xcode] and iOS 5.0 or later versions.

<div class="dev-callout"><strong>Note</strong> <p>To complete this tutorial, you need an Azure account. If you don't have an account, you can create a free trial account in just a couple of minutes. For details, see <a href="http://www.windowsazure.com/en-us/pricing/free-trial/?WT.mc_id=A756A2826&amp;returnurl=http%3A%2F%2Fwww.windowsazure.com%2Fen-us%2Fdevelop%2Fmobile%2Ftutorials%2Fget-started-with-data-ios%2F" target="_blank">Azure Free Trial</a>.</p></div> 

<h2><a name="download-app"></a><span class="short-header">Download the project</span>Download the GetStartedWithData project</h2>
 
This tutorial is built on the [GetStartedWithData app][GitHub], which is an iOS app. The UI for this app is identical to the app generated by the Mobile Services iOS quickstart, except that added items are stored locally in memory. 

1. Download the GetStartedWithData [sample app][GitHub]. 

2. In Xcode, open the downloaded project and examine the TodoService.m file.

   	Notice that there are eight **// TODO** comments that specify the steps you must take to make this app work with your mobile service.

3. Press the **Run** button (or the Command+R key) to rebuild the project and start the app.

4. In the app, type some text in the text box, then click the **+** button.

   	![][0]  

   	Notice that the saved text is displayed in the list below.

<h2><a name="create-service"></a><span class="short-header">Create mobile service</span>Create a new mobile service in the Management Portal</h2>

[WACOM.INCLUDE [mobile-services-dotnet-backend-create-new-service](../includes/mobile-services-dotnet-backend-create-new-service.md)]

<h2><a name="download-the-service-locally"></a><span class="short-header">Download the service</span>Download the service to your local computer</h2>

[WACOM.INCLUDE [mobile-services-download-service-locally](../includes/mobile-services-download-service-locally.md)]

<h2><a name="test-the-service"></a><span class="short-header">Test the service</span>Test the mobile service</h2>

[WACOM.INCLUDE [mobile-services-dotnet-backend-test-local-service](../includes/mobile-services-dotnet-backend-test-local-service.md)]

<h2><a name="publish-mobile-service"></a><span class="short-header">Publish the service</span>Publish the mobile service to Azure</h2>

[WACOM.INCLUDE [mobile-services-dotnet-backend-publish-service](../includes/mobile-services-dotnet-backend-publish-service.md)]

<h2><a name="add-table"></a><span class="short-header">Add a new table</span>Add a new table to the mobile service</h2>

[WACOM.INCLUDE [mobile-services-create-new-service-data-2](../includes/mobile-services-create-new-service-data-2.md)]

<h2><a name="update-app"></a><span class="short-header">Update the app</span>Update the app to use the mobile service for data access</h2>

Now that your mobile service is ready, you can update the app to store items in Mobile Services instead of the local collection. 

1. If you haven't already installed the [Mobile Services iOS SDK], install it now.

2. In the Project Navigator in Xcode, open both the TodoService.m and TodoService.h files located in the Quickstart folder, and add the following import statement: 

        #import <WindowsAzureMobileServices/WindowsAzureMobileServices.h>  

3. In the ToDoService.h file, locate the following commented line of code:

        // Create an MSClient property comment in the #interface declaration for the TodoService. 

   	After this comment, add the following line of code:

        @property (nonatomic, strong)   MSClient *client;

   	This creates a property that represents the MSClient that connects to the service

4. In the file TodoService.m, locate the following commented line of code:

        // Create an MSTable property for your items. 

   	After this comment, add the following line of code inside the @interface declaration:

        @property (nonatomic, strong)   MSTable *table;

   	This creates a property representation for your mobile services table.

5. In the Management Portal, click **Mobile Services**, and then click the mobile service you just created.

6. Click the **Dashboard** tab and make a note of the **Site URL**, then click **Manage keys** and make a note of the **Application key**.

   	![][8]

  	You will need these values when accessing the mobile service from your app code.

7. Back in Xcode, open TodoService.m and locate the following commented line of code:

        // Initialize the Mobile Service client with your URL and key.

    After this comment, add the following line of code:

        self.client = [MSClient clientWithApplicationURLString:@"APPURL" withApplicationKey:@"APPKEY"];

    This creates an instance of the Mobile Services client.

8. Replace the values of **APPURL** and **APPKEY** in this code with the URL and application key from the mobile service that you acquired in step 6.

9. Locate the following commented line of code:

        // Create an MSTable instance to allow us to work with the TodoItem table.

    After this comment, add the following line of code:

        self.table = [self.client getTable:@"TodoItem"];

    This creates the TodoItem table instance.

10. Locate the following commented line of code:

 	    // Create a predicate that finds items where complete is false comment in the refreshDataOnSuccess method. 

    After this comment, add the following line of code:

        NSPredicate * predicate = [NSPredicate predicateWithFormat:@"complete == NO"];

    This creates a query to return all tasks that have not yet been completed.

11. Locate the following commented line of code:

        // Query the TodoItem table and update the items property with the results from the service.

   	Replace that comment and the subsequent **completion** block invocation with the following code:

        // Query the TodoItem table and update the items property with the results from the service
        [self.table readWhere:predicate completion:^(NSArray *items, NSInteger totalCount, NSError *error)
		{
		   self.items = [items mutableCopy];
           completion();
        }]; 

12. Locate the **addItem** method, and add the following code to the body of the method:

        // Insert the item into the TodoItem table and add to the items array on completion
        [self.table insert:item completion:^(NSDictionary *result, NSError *error) {
            NSUInteger index = [items count];
            [(NSMutableArray *)items insertObject:item atIndex:index];
 
            // Let the caller know that we finished
            completion(index);
        }];

    This code sends an insert request to the mobile service.

13. Locate the **completeItem** method, and add the following code to the body of the method:

        // Update the item in the TodoItem table and remove from the items array on completion
        [self.table update:mutable completion:^(NSDictionary *item, NSError *error) {
    
            // TODO
            // Get a fresh index in case the list has changed
            NSUInteger index = [items indexOfObjectIdenticalTo:mutable];
    
            [mutableItems removeObjectAtIndex:index];
    
            // Let the caller know that we have finished
            completion(index);
	    }]; 

   	This code removes TodoItems after they are marked as completed. 

Now that the app has been updated to use Mobile Services for backend storage, it's time to test the app against Mobile Services.

<h2><a name="test-app"></a><span class="short-header">Test the app</span>Test the app against your new mobile service</h2>

1. In Xcode, select an emulator to deploy to (either iPhone or iPad), press the **Run** button (or the Command+R key) to rebuild the project and start the app.

   	This executes your Azure Mobile Services client, built with the iOS SDK, that queries items from your mobile service.

2. As before, type text in the textbox, and then click the **+** button..

   	This sends a new item as an insert to the mobile service.

3. In the [Management Portal], click **Mobile Services**, and then click your mobile service.

4. Click the **Data** tab, then click **Browse**.

   	![][9]
  
   	Notice that the **TodoItem** table now contains data, with id values generated by Mobile Services, and that columns have been automatically added to the table to match the TodoItem class in the app.

This concludes the **Get started with data** tutorial for iOS.

## <a name="next-steps"> </a>Next steps

This tutorial demonstrated the basics of enabling an iOS app to work with data in Mobile Services. 

Next, consider completing one of the following tutorials that is based on the GetStartedWithData app that you created in this tutorial:

* [Validate and modify data with scripts]
  <br/>Learn more about using server scripts in Mobile Services to validate and change data sent from your app.

* [Refine queries with paging]
  <br/>Learn how to use paging in queries to control the amount of data handled in a single request.

Once you have completed the data series, try these other iOS tutorials:

* [Get started with authentication] 
	<br/>Learn how to authenticate users of your app.

* [Get started with push notifications] 
  <br/>Learn how to send a very basic push notification to your app with Mobile Services.

<!-- Anchors. -->
[Download the iOS app project]: #download-app
[Create the mobile service]: #create-service
[Add a data table for storage]: #add-table
[Update the app to use Mobile Services]: #update-app
[Test the app against Mobile Services]: #test-app
[Next Steps]:#next-steps
[Download the service locally]: #download-the-service-locally
[Test the mobile service]: #test-the-service
[Publish the mobile service to Azure]: #publish-mobile-service


<!-- Images. -->
[0]: ./media/mobile-services-dotnet-backend-ios-get-started-data/mobile-quickstart-startup-ios.png
[8]: ./media/mobile-services-dotnet-backend-ios-get-started-data/mobile-dashboard-tab.png
[9]: ./media/mobile-services-dotnet-backend-ios-get-started-data/mobile-todoitem-data-browse.png



<!-- URLs. -->
[Validate and modify data with scripts]: /en-us/develop/mobile/tutorials/validate-modify-and-augment-data-dotnet
[Refine queries with paging]: /en-us/develop/mobile/tutorials/add-paging-to-data-ios
[Get started with Mobile Services]: /en-us/develop/mobile/tutorials/get-started-ios
[Get started with data]: /en-us/develop/mobile/tutorials/get-started-with-data-ios
[Get started with authentication]: /en-us/develop/mobile/tutorials/get-started-with-users-ios
[Get started with push notifications]: /en-us/develop/mobile/tutorials/get-started-with-push-ios
[JavaScript backend version]: /en-us/develop/mobile/tutorials/get-started-with-data-ios

[Azure Management Portal]: https://manage.windowsazure.com/
[Management Portal]: https://manage.windowsazure.com/
[Install Xcode]: https://go.microsoft.com/fwLink/p/?LinkID=266532
[Mobile Services iOS SDK]: https://go.microsoft.com/fwLink/p/?LinkID=266533
[GitHub]:  http://go.microsoft.com/fwlink/p/?LinkId=268622
[GitHub repo]: http://go.microsoft.com/fwlink/p/?LinkId=268784
  