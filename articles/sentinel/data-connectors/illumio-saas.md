---
title: "Illumio SaaS (using Azure Functions) connector for Microsoft Sentinel"
description: "Learn how to install the connector Illumio SaaS (using Azure Functions) to connect your data source to Microsoft Sentinel."
author: cwatson-cat
ms.topic: how-to
ms.date: 10/15/2024
ms.service: microsoft-sentinel
ms.author: cwatson
ms.collection: sentinel-data-connector
---

# Illumio SaaS (using Azure Functions) connector for Microsoft Sentinel

[Illumio](https://www.illumio.com/) connector provides the capability to ingest events into Microsoft Sentinel. The connector provides ability to ingest auditable and flow events from AWS S3 bucket.

This is autogenerated content. For changes, contact the solution provider.

## Connector attributes

| Connector attribute | Description |
| --- | --- |
| **Azure function app code** | https://github.com/Azure/Azure-Sentinel/raw/master/Solutions/IllumioSaaS/Data%20Connectors/IllumioEventsConn.zip |
| **Log Analytics table(s)** | Illumio_Auditable_Events_CL<br/> Illumio_Flow_Events_CL<br/> |
| **Data collection rules support** | Not currently supported |
| **Supported by** | [Illumio](https://www.illumio.com/support/support) |

## Query samples

**Sample of auditable events**

   ```kusto
Illumio_Auditable_Events_CL 
 
   | sort by TimeGenerated desc 
 
   | limit 10
   ```

**Sample of flow summaries**

   ```kusto
Illumio_Flow_Events_CL 
 
   | sort by TimeGenerated desc 
 
   | limit 10
   ```



## Prerequisites

To integrate with Illumio SaaS (using Azure Functions) make sure you have: 

- **Microsoft.Web/sites permissions**: Read and write permissions to Azure Functions to create a Function App is required. [See the documentation to learn more about Azure Functions](/azure/azure-functions/).
- **SQS and AWS S3 account credentials/permissions**: **AWS_SECRET**, **AWS_REGION_NAME**, **AWS_KEY**, **QUEUE_URL** is required. See the documentation to learn more about data pulling. If you are using s3 bucket provided by Illumio, contact Illumio support. At your request they will provide you with the AWS S3 bucket name, AWS SQS url and AWS credentials to access them.
- **Illumio API key and secret**: **ILLUMIO_API_KEY**, **ILLUMIO_API_SECRET** is required for a workbook to make connection to SaaS PCE and fetch api responses.


## Vendor installation instructions


> [!NOTE]
   >  This connector uses Azure Functions to connect to the AWS SQS / S3 to pull logs into Microsoft Sentinel. This might result in additional data ingestion costs. Check the [Azure Functions pricing page](https://azure.microsoft.com/pricing/details/functions/) for details.

>**(Optional Step)** Securely store API authorization key(s) or token(s) in Azure Key Vault. Azure Key Vault provides a secure mechanism to store and retrieve key values. [Follow these instructions](/azure/app-service/app-service-key-vault-references) to use Azure Key Vault with an Azure Function App.

Prerequisites

1. Ensure AWS SQS is configured for the s3 bucket from which flow and auditable event logs are going to be pulled. In case, Illumio provides bucket, please contact Illumio support for sqs url, s3 bucket name and aws credentials. 
 2. Register AAD application - For DCR (Data collection rule) to authenticate to ingest data into log analytics, you must use Entra application. 1. [Follow the instructions here](/azure/azure-monitor/logs/tutorial-logs-ingestion-portal#create-azure-ad-application) (steps 1-5) to get **AAD Tenant Id**, **AAD Client Id** and **AAD Client Secret**. 
 2. Ensure you have created a log analytics workspace. 
Please keep note of the name and region where it has been deployed.

Deployment

Choose one of the approaches from below options. Either use the below ARM template to deploy azure resources or deploy function app manually.

1. Azure Resource Manager (ARM) Template

Use this method for automated deployment of Azure resources using an ARM Template.

1. Click the **Deploy to Azure** button below. 

	[![Deploy To Azure](https://aka.ms/deploytoazurebutton)](https://aka.ms/sentinel-IllumioSaaS-FunctionApp) 			
2. Provide the required details such as Microsoft Sentinel Workspace, AWS credentials, Azure AD Application details and ingestion configurations 
> **NOTE:** It is recommended to create a new Resource Group for deployment of function app and associated resources.
3. Mark the checkbox labeled **I agree to the terms and conditions stated above**. 
4. Click **Purchase** to deploy.

2. Deploy additional function apps to handle scale

Use this method for automated deployment of additional function apps using an ARM Template.

1. Click the **Deploy to Azure** button below. 

	[![Deploy To Azure](https://aka.ms/deploytoazurebutton)](https://aka.ms/sentinel-IllumioSaaS-QueueTriggerFunctionApp) 			


3. Manual Deployment of Azure Functions

Deployment via Visual Studio Code.


**1. Deploy a Function App**

1. Download the [Azure Function App](https://github.com/Azure/Azure-Sentinel/raw/master/Solutions/IllumioSaaS/Data%20Connectors/IllumioEventsConn.zip) file. Extract archive to your local development computer.
2. Follow the [function app manual deployment instructions](https://github.com/Azure/Azure-Sentinel/blob/master/DataConnectors/AzureFunctionsManualDeployment.md#function-app-manual-deployment-instructions) to deploy the Azure Functions app using VSCode.
3. After successful deployment of the function app, follow next steps for configuring it.


**2. Configure the Function App**

1. Follow documentation to set up all required environment variables and click **Save**. Ensure you restart the function app once settings are saved.



## Next steps

For more information, go to the [related solution](https://azuremarketplace.microsoft.com/en-us/marketplace/apps/illumioinc1629822633689.illumio_sentinel?tab=Overview) in the Azure Marketplace.
