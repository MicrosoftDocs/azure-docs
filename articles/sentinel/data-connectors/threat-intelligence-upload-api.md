---
title: "Threat Intelligence Upload API (Preview) connector for Microsoft Sentinel"
description: "Learn how to install the connector Threat Intelligence Upload API (Preview) to connect your data source to Microsoft Sentinel."
author: cwatson-cat
ms.topic: how-to
ms.date: 12/24/2024
ms.service: microsoft-sentinel
ms.author: cwatson
ms.collection: sentinel-data-connector
---

# Threat Intelligence Upload API (Preview) connector for Microsoft Sentinel

Microsoft Sentinel offers a data plane API to bring in threat intelligence from your Threat Intelligence Platform (TIP), such as Threat Connect, Palo Alto Networks MineMeld, MISP, or other integrated applications. Threat indicators can include IP addresses, domains, URLs, file hashes and email addresses. For more information, see the [Microsoft Sentinel documentation](https://go.microsoft.com/fwlink/p/?linkid=2269830&wt.mc_id=sentinel_dataconnectordocs_content_cnl_csasci).

This is autogenerated content. For changes, contact the solution provider.

## Connector attributes

| Connector attribute | Description |
| --- | --- |
| **Log Analytics table(s)** | ThreatIntelligenceIndicator<br/> |
| **Data collection rules support** | Not currently supported |
| **Supported by** | [Microsoft Corporation](https://support.microsoft.com/) |

## Query samples

**All Threat Intelligence APIs Indicators**

   ```kusto
ThreatIntelligenceIndicator 
   | where SourceSystem !in ('SecurityGraph', 'Azure Sentinel', 'Microsoft Sentinel')
   | sort by TimeGenerated desc
   ```



## Vendor installation instructions

You can connect your threat intelligence data sources to Microsoft Sentinel by either: 


>Using an integrated Threat Intelligence Platform (TIP), such as Threat Connect, Palo Alto Networks MineMeld, MISP, and others. 

>Calling the Microsoft Sentinel data plane API directly from another application. 
 - Note: The 'Status' of the connector will not appear as 'Connected' here, because the data is ingested by making an API call.

Follow These Steps to Connect to your Threat Intelligence: 

1. Get Microsoft Entra ID Access Token

[concat('To send request to the APIs, you need to acquire Azure Active Directory access token. You can follow instruction in this page: /azure/databricks/dev-tools/api/latest/aad/app-aad-token#get-an-azure-ad-access-token 
  - Notice: Please request AAD access token with scope value: ', variables('management'), '.default')]

2. Send STIX objects to Sentinel

You can send the supported STIX object types by calling our Upload API. For more information about the API, click [here](/azure/sentinel/upload-indicators-api). 

>HTTP method: POST 

>Endpoint: `https://api.ti.sentinel.azure.com/workspaces/[WorkspaceID]/threatintelligence-stix-objects:upload?api-version=2024-02-01`  

>WorkspaceID: the workspace that the STIX objects are uploaded to.  


>Header Value 1: "Authorization" = "Bearer [Microsoft Entra ID Access Token from step 1]" 


> Header Value 2: "Content-Type" = "application/json"  
 
>Body: The body is a JSON object containing an array of STIX objects.



## Next steps

For more information, go to the [related solution](https://azuremarketplace.microsoft.com/en-us/marketplace/apps/azuresentinel.azure-sentinel-solution-threatintelligence-taxii?tab=Overview) in the Azure Marketplace.
