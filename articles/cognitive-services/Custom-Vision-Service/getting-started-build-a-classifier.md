---
title: Build a classifier - Custom Vision Service
titlesuffix: Azure Cognitive Services
description: Learn how to use the Custom Vision website to create an image classification model.
services: cognitive-services
author: anrothMSFT
manager: cgronlun

ms.service: cognitive-services
ms.component: custom-vision
ms.topic: conceptual
ms.date: 11/16/2018
ms.author: anroth
---

# How to build a classifier with Custom Vision

To use the Custom Vision Service for image classification, you must first build a classifier model. In this guide, you'll learn how to build a classifier through the Custom Vision website.

## Prerequisites

- A valid [Microsoft account](https://account.microsoft.com/account) or an Azure Active Directory (AAD) account ("work or school account").
    > [!IMPORTANT] 
    > The login for AAD users from [Microsoft National Clouds](https://www.microsoft.com/en-us/trustcenter/cloudservices/nationalcloud) is not currently supported.
- A set of images with which to train your classifier. See below for tips on choosing images.
- Optionally: An Azure subscription associated with your Microsoft account or AAD account. If you donâ€™t have an Azure subscription, you can create a [free account](https://azure.microsoft.com/free/?WT.mc_id=A261C142F) before you begin. Without an Azure subscription, you will only be able to create two __limited trial__ projects.

## Create a new project

In your web browser, navigate to the [Custom Vision web page](https://customvision.ai) and select __Sign in__.

![Image of the sign-in page](./media/browser-home.png)

If you have an Azure account, you will be prompted to create Custom Vision Service Training and Prediction resources in the [Azure portal](https://portal.azure.com/?microsoft_azure_marketplace_ItemHideKey=microsoft_azure_cognitiveservices_customvision#create/Microsoft.CognitiveServicesCustomVision) during project creation.

To create your first project, select **New Project**. The **Create new project** dialog box will appear.

![The new project dialog box has fields for name, description, and domains.](./media/getting-started-build-a-classifier/new-project.png)

Enter a name and a description for the project. Then select a Resource Group. If your signed-in account is associated with an Azure account, the Resource Group dropdown will display all of your Azure Resource Groups that include a Custom Vision Service Resource. In either case, you can also select __limited trial__ from this dropdown.

Select __Classification__ under __Project Types__. Then, under __Classification Types__, choose either **Multilabel** or **Multiclass**, depending on your use case. Multilabel classification applies any number of different tags to an image, while multiclass classification sorts images into single categories. You will be able to change the classification type later if you wish.

Next, select one of the available optimization domains. Each domain optimizes the classifier for specific types of images, as described in the following table. You will be able to change the domain later if you wish.

|Domain|Purpose|
|---|---|
|__Generic__| Optimized for a broad range of image classification tasks. If none of the other domains are appropriate, or you are unsure of which domain to choose, select the Generic domain. |
|__Food__|Optimized for photographs of dishes as you would see them on a restaurant menu. If you want to classify photographs of individual fruits or vegetables, use the Food domain.|
|__Landmarks__|Optimized for recognizable landmarks, both natural and artificial. This domain works best when the landmark is clearly visible in the photograph. This domain works even if the landmark is slightly obstructed by people in front of it.|
|__Retail__|Optimized for images that are found in a shopping catalog or shopping website. If you want high precision classifying between dresses, pants, and shirts, use this domain.|
|__Adult__|Optimized to better define adult content and non-adult content. For example, if you want to block images of people in bathing suits, this domain allows you to build a custom classifier to do that.|
|__Compact domains__| Optimized for the constraints of real-time classification on mobile devices. The models generated by compact domains can be exported to run locally.|

Finally, select __Create project__.

## Choose training images

As a minimum, we recommend you use at least 30 images per tag in the initial training set. Remember to include as many images for the "Negative" label (does not match any existing tags). You'll also want to collect a few extra images with which to test your model once it is trained.

In order to train your model effectively, you'll want to use images with visual variety. Choose images with different camera angles, lighting, background, types, styles, groups, sizes, and so on.

The Custom Vision Service accepts training images in .jpg, .png, and .bmp format, and images can be up to 6MB in size. Prediction images can be up to 4MB in size). We recommend that images be at least 256 pixels on the shortest edge. Any images shorter than that will be automatically scaled up by the Custom Vision Service.

## Upload and tag images

To add images to the classifier, click the __Add images__ button and then select __Browse local files__. Select __Open__ to move to tagging. Your tag selection will be applied to the entire group of images you've selected to upload, so it is easier to upload images in separate groups according to their desired tags. You can also change the tags for individual images after they have been uploaded.

![The add images control is shown in the upper left, and as a button at bottom center.](./media/getting-started-build-a-classifier/add-images01.png)


To create a tag, enter text in the __My Tags__ field and press Enter. If the tag already exists, it will appear in a dropdown menu. In a multilabel project, you can add more than one tag to your images, but in a multiclass project you can add only one. To finish uploading the images, use the __Upload [number] files__ button. 

![Image of the tag and upload page](./media/getting-started-build-a-classifier/add-images03.png)

Select __Done__ once the images have been uploaded.

![The progress bar shows all tasks completed.](./media/getting-started-build-a-classifier/add-images04.png)

To upload another set of images, return to the top of this section and repeat the steps. Remember to add your no-tag images and apply the "Negative" label to them.

## Train the classifier

To train the classifier, select the **Train** button. The classifier uses all of the current images to create a model that identifies the visual qualities of each tag.

![The train button in the top right of the web page's header toolbar](./media/getting-started-build-a-classifier/train01.png)

The training process should only take a few minutes. During this time, information about the training process is displayed in the **Performance** tab.

![The browser window with a training dialog in the main section](./media/getting-started-build-a-classifier/train02.png)

## Evaluate the classifier

After training has completed, the model evaluates its performance. The Custom Vision Service uses the images that you submitted for training to calculate precision and recall, using a process called [k-fold cross validation](https://en.wikipedia.org/wiki/Cross-validation_(statistics)). Precision and recall are two different measurements of the effectiveness of a classifier:

- **Precision** indicates the fraction of identified classifications that were correct. For example, if the model identified 100 images as dogs, and 99 of them were actually of dogs, then the precision would be 99%.
- **Recall** indicates the fraction of actual classifications that were correctly identified. For example, if there were 100 images of dogs, and the model identified 99 as dogs, the recall would be 99%.

![The training results show the overall precision and recall, and the precision and recall for each tag in the classifier.](./media/getting-started-build-a-classifier/train03.png)

### Probability Threshold

Note the **Probability Threshold** slider on the left pane of the **Performance** tab. This indicates what level of confidence should be considered a "real guess" by the model. 

Training with a high probability threshold tends to create a model with high precision at the expense of recall; training with a low probability threshold does the opposite. With this in mind, you should set the probability threshold according to the specific needs of your project. Later, on the client side, you should use the same probability threshold value as a filter when receiving prediction results from the model.

## Manage training iterations

Each time you train your classifier, you create a new _iteration_ with its own updated performance metrics. You can view all of your iterations in the left pane of the **Performance** tab. When you select one, you have the option of making it the _default iteration_ by clicking the **Make default** button at the top. The _default iteration_ is the model that will be used by default when you query it through the Prediction API (from an app, for instance). If you decline to update the _default iteration_, you can continue to train your model without affecting your app's current behavior; then, once you are satisfied with the improved model, you can update the default.

In the left pane you will also find the **Delete** button, which you can use to delete an iteration if it's obsolete. When you delete an iteration, you delete any images that are uniquely associated with it.

## Next steps

In this guide, you learned how to create and train an image classification model using the Custom Vision website. Next, get more information on the iterative process of improving your model.

[Test and retrain a model](test-your-model.md)

