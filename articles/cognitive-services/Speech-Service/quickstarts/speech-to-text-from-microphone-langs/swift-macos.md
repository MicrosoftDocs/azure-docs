---
title: 'Quickstart: Recognize speech from a microphone, Swift - Speech service'
titleSuffix: Azure Cognitive Services
description: Learn how to recognize speech in Swift on macOS using the Speech SDK
services: cognitive-services
author: cbasoglu
manager: nitinme
ms.service: cognitive-services
ms.subservice: speech-service
ms.topic: quickstart
ms.date: 06/25/2020
ms.author: cbasoglu
---

# Quickstart: Recognize speech in Swift on macOS using the Speech SDK

Quickstarts are also available for [speech synthesis](~/articles/cognitive-services/Speech-Service/quickstarts/text-to-speech-langs/swift-macos.md).

In this article, you learn how to create a macOS app in Swift using the Cognitive Services Speech SDK to transcribe speech recorded from a microphone to text.

## Prerequisites

Before you get started, here's a list of prerequisites:

* A [subscription key](~/articles/cognitive-services/Speech-Service/get-started.md) for the Speech service.
* A macOS machine with [Xcode 9.4.1](https://geo.itunes.apple.com/us/app/xcode/id497799835?mt=12) or later and [CocoaPods](https://cocoapods.org/) installed.

## Get the Speech SDK for macOS

[!INCLUDE [License Notice](~/includes/cognitive-services-speech-service-license-notice.md)]

Note that this tutorial will not work with version of the SDK earlier than 1.6.0.

The Cognitive Services Speech SDK for macOS is distributed as a framework bundle.
It can be used in Xcode projects as a [CocoaPod](https://cocoapods.org/), or downloaded from https://aka.ms/csspeech/macosbinary and linked manually. This guide uses a CocoaPod.

## Create an Xcode project

Start Xcode, and start a new project by clicking **File** > **New** > **Project**.
In the template selection dialog, choose the "Cocoa App" template.

In the dialogs that follow, make the following selections:

1. Project Options Dialog
    1. Enter a name for the quickstart app, for example `helloworld`.
    1. Enter an appropriate organization name and an organization identifier, if you already have an Apple developer account. For testing purposes, you can just pick any name like `testorg`. To sign the app, you need a proper provisioning profile. Refer to the [Apple developer site](https://developer.apple.com/) for details.
    1. Make sure Swift is chosen as the language for the project.
    1. Disable the checkboxes to use storyboards and to create a document-based application. The simple UI for the sample app will be created programmatically.
    1. Disable all checkboxes for tests and core data.
1. Select project directory
    1. Choose a directory to put the project in. This creates a `helloworld` directory in the chosen directory that contains all the files for the Xcode project.
    1. Disable the creation of a Git repo for this example project.
1. Set the entitlements for network and microphone access. Click the app name in the first line in the overview on the left to get to the app configuration, and then choose the "Capabilities" tab.
    1. Enable the "App sandbox" setting for the app.
    1. Enable the checkboxes for "Outgoing Connections" and "Microphone" access.
    ![Sandbox Settings](~/articles/cognitive-services/Speech-Service/media/sdk/qs-swift-macos-sandbox.png)
1. The app also needs to declare use of the microphone in the `Info.plist` file. Click on the file in the overview, and add the "Privacy - Microphone Usage Description" key, with a value like "Microphone is needed for speech recognition".
    ![Settings in Info.plist](~/articles/cognitive-services/Speech-Service/media/sdk/qs-swift-macos-info-plist.png)
1. Close the Xcode project. You will use a different instance of it later after setting up the CocoaPods.

## Add the sample code

1. Place a new header file with the name `MicrosoftCognitiveServicesSpeech-Bridging-Header.h` into the `helloworld` directory inside the helloworld project, and paste the following code into it:

   [!code-cpp[Quickstart Code](~/samples-cognitive-services-speech-sdk/quickstart/swift/macos/from-microphone/helloworld/helloworld/MicrosoftCognitiveServicesSpeech-Bridging-Header.h#code)]
1. Add the relative path `helloworld/MicrosoftCognitiveServicesSpeech-Bridging-Header.h` to the bridging header to the Swift project settings for the helloworld target in the *Objective-C Bridging Header* field
   ![Header properties](~/articles/cognitive-services/Speech-Service/media/sdk/qs-swift-macos-bridging-header.png)
1. Replace the contents of the autogenerated `AppDelegate.swift` file by:

   [!code-swift[Quickstart Code](~/samples-cognitive-services-speech-sdk/quickstart/swift/macos/from-microphone/helloworld/helloworld/AppDelegate.swift#code)]
1. In `AppDelegate.swift`, replace the string `YourSubscriptionKey` with your subscription key.
1. Replace the string `YourServiceRegion` with the region associated with your subscription (for example, `westus` for the free trial subscription).

## Install the SDK as a CocoaPod

1. Install the CocoaPod dependency manager as described in its [installation instructions](https://guides.cocoapods.org/using/getting-started.html).
1. Navigate to the directory of your sample app (`helloworld`). Place a text file with the name `Podfile` and the following content in that directory:

   [!code-ruby[Quickstart Code](~/samples-cognitive-services-speech-sdk/quickstart/swift/macos/from-microphone/helloworld/Podfile)]
1. Navigate to the `helloworld` directory in a terminal and run the command `pod install`. This will generate a `helloworld.xcworkspace` Xcode workspace containing both the sample app and the Speech SDK as a dependency. This workspace will be used in the following.

## Build and run the sample

1. Open the `helloworld.xcworkspace` workspace in Xcode.
1. Make the debug output visible (**View** > **Debug Area** > **Activate Console**).
1. Build and run the example code by selecting **Product** > **Run** from the menu or clicking the **Play** button.
1. After you click the "Recognize" button in the app and say a few words, you should see the text you have spoken in the lower part of the app window.

## Next steps

> [!div class="nextstepaction"]
> [Explore our samples on GitHub](https://aka.ms/csspeech/samples)

