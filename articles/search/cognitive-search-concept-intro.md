---
title: Cognitive search in Azure Search | Microsoft Docs
description: Cognitive search is a collection of features in Azure Search for transforming unstructured data into searchable content.
manager: cgronlun
author: HeidiSteen

ms.service: search
ms.devlang: NA
ms.topic: conceptual
ms.date: 05/01/2018
ms.author: heidist
---
# Cognitive Search overview

Cognitive search, currently in private preview, transforms raw, unstructured content into rich searchable content in an Azure Search index. At the heart of cognitive search is an extensible enrichment pipeline powered by a number of cognitive skills (for instance, natural language processing and computer vision capabilities) that extract structure and semantics from unstructured and non-textual data, and feeds it into a search index. 

![Component diagram of enrichment, augmentation pipeline](./media/cognitive-search-intro/cogsearch-architecture.png)

## Pipeline components

At both ends of the pipeline, you have persisted data: source data read from an Azure data source, a target Azure Search index at the end. In between is a run-time process that moves data through a series of transformations, culminating in an index accessed via search requests through all query types supported by Azure Search. 

Underneath it all, the engine driving the pipeline is an Azure Search *indexer*. An indexer pulls data from supported sources, adds field mappings and logic, and pushes it into a search index that you've defined in advance. Transformations and enrichment are added through individual *skills*, combined into a *skillset* attached to an indexer. The remaining sections explore each step in more detail.

### Source data and document cracking phase

At the start of the pipeline, you have unstructured text or non-text content (such as image files, scanned document JPG files, audio files). Data must exist in an Azure data storage service that can be accessed by an indexer. Supported sources include Azure blob storage, Azure table storage, Azure SQL Database, and Azure Cosmos DB. Blobs can be image files, audio files, scanned documents, and so forth. Text-based content can be extracted from the following file types: PDFs, Word, PowerPoint, CSV files. For the full list, see [Supported formats](https://docs.microsoft.com/en-us/azure/search/search-howto-indexing-azure-blob-storage#supported-document-formats).

### Cognitive skills and enrichment phase

Enrichment is implemented as *cognitive skills* that invoke atomic transformations. For example, once you have the textual representation of a PDF file, you could apply natural language processing in the form of an entity recognition skill, a language detection skill, or a key phrase extraction skill to break up undifferentiated text into semantically rich parts, consumable in search workloads. Altogether, the entire collection of skills used in your pipeline is called a *skillset*.  

Cognitive search provides [predefined cognitive skills](cognitive-search-predefined-skills.md) that can be consumed out of the box. The pipeline is also extensible. You can build custom skills from the ground up, and connect it as part of the skillset. For more information, see [Example: create a custom skill](cognitive-search-create-custom-skill-example.md) and [How to define a custom interface](cognitive-search-custom-skill-interface.md).

A skillset can be minimal or highly complex. A skillset determines not only the type of processing, but also the order of operations. A skillset plus the field mappings defined as part of an indexer determines the augmentation pipeline. For more information about pulling all of these pieces together, see [How to create a skillset](cognitive-search-defining-skillset.md).

### Enriched documents

Internally, the pipeline generates a collection of enriched documents. You can decide which parts of the enriched documents should be mapped to indexable fields in your search index. For example, if you applied the key phrases extraction and the entity recognition skills, then those new fields would become part of the enriched document, and they can be mapped to fields on your index.

### Search index and query-based access

When processing is finished, you have a search corpus consisting of enriched documents, fully text-searchable in Azure Search. Querying the index is how developers and users utilize the enriched content generated by the pipeline. 

The index is like any other you might create for Azure Search: you can supplement with custom analyzers, invoke fuzzy search queries, add filtered search, or experiment with scoring profiles to reshape the search results.

Indexes are generated from an index schema that defines the fields, attributes, and other constructs attached to a specific index, such as scoring profiles and synonym maps. Once an index is defined and populated, you can refresh it to pick up new and updated source documents. Enrichment steps are seamlessly integrated with the indexing workload; the same operations performed during initial data ingestion also occur in subsequent refresh operations.

<a name="feature-concepts"></a>

## Key concepts

| Concept | description|
|---------|------------|
| Indexer |  A crawler that extracts searchable data and metadata from an external data source and populates an index based on field-to-field mappings between the index and your data source for document cracking. For cognitive search enrichments, the indexer invokes a skillset, and contains the field mappings associating enrichment output to target fields in the index. The indexer definition contains all of the instructions and references for pipeline operations, and the pipeline is invoked when you run the indexer. |
| Data Source  | An object used by an indexer to connect to an external data source of supported types on Azure. |
| Index | A persisted search corpus in Azure Search, built from an index schema that defines field structure and usage. |
| Document cracking | The process of extracting or creating text content from non-text sources. Optical character recognition (OCR) and audio-to-text translation are two examples. The data source and the indexer definition with field mappings are the key factors in document cracking. |
| Cognitive skill | An atomic transformation in an augmentation pipeline. Often, it is a component that extracts or infers structure, and therefore augments an understanding of the input data. Almost always, the output is text-based and the processing is natural language processing. Output can be mapped to a field in an index, or used as an input for a downstream enrichment. |
| Skillset | A top-level named resource containing a collection of skills. A skillset is the augmentation pipeline. |
| Enriched documents | A transitory internal structure, not directly accessible in code. Enriched documents are generated during processing, but only final outputs are persisted in a search index. Field mappings determine which data elements are added to the index. |

## Resources for ramping up

**Step 1: Create a service in a region providing the APIs** 

+ South Central US
+ West Europe

**Step 2: Hands-on experience through these exercises**

+ [Quickstart (portal)](cognitive-search-quickstart-blob.md)
+ [Tutorial (HTTP requests)](cognitive-search-tutorial-blob.md)
+ [Example custom skills (C#)](cognitive-search-create-custom-skill-example.md)

**Step 3: Apply what you learned (typical workflow)**

1. Subset your Azure source data into a representative sample. Indexing takes time so start with a small, representative data set and then build it up incrementally as your solution matures.
2. Create a data source object in Azure Search to provide the connection string.
3. Create a skillset with enrichment steps.
4. Define the index schema. The fields collection includes fields from source data. Stub out additional fields to hold generated values for fields created during enrichment.
5. Define the indexer referencing the data source, skillset, and index. Add *outputFieldMappings* in the indexer definition. This section of the indexer maps outputs from the skillset (per step 3) to the inputs fields in the index schema (per step 4).
6. Send an HTTP request to create and run the indexer to invoke the pipeline.
7. Evaluate results and modify code to update skillsets, schema, or indexer configuraiton.
8. Reset the indexer before rebuilding the pipeline.

**Documentation**

The following articles are the complete documentation for cognitive search.

[Cognitive search overview](cognitive-search-concept-intro.md)
[Quickstart: Try cognitive search (Portal)](cognitive-search-quickstart-blob.md)
[Tutorial: Enriched indexing of Azure blobs](cognitive-search-tutorial-blob.md)
[How to define a skillset](cognitive-search-defining-skillset.md)
[How to map fields](cognitive-search-output-field-mapping.md)
[How to define a custom skills interface](cognitive-search-custom-skill-interface.md)
[Example: creating a custom skill](cognitive-search-create-custom-skill-example.md)

[Predefined skills](cognitive-search-predefined-skills.md)
  - [Microsoft.Skills.Text.KeyPhraseSkill](cognitive-search-skill-keyphrases.md)
  - [Microsoft.Skills.Text.LanguageDetectionSkill](cognitive-search-skill-language-detection.md)
  - [Microsoft.Skills.Text.NamedEntityRecognitionSkill](cognitive-search-skill-named-entity-recognition.md)
  - [Microsoft.Skills.Text.PaginationSkill](cognitive-search-skill-pagination.md)
  - [Microsoft.Skills.Text.SentimentSkill](cognitive-search-skill-sentiment.md)
  - [Microsoft.Skills.Vision.ImageAnalysisSkill](cognitive-search-skill-image-analysis.md)
  - [Microsoft.Skills.Vision.OcrSkill]( cognitive-search-skill-ocr.md)
  - [Microsoft.Skills.Util.ShaperSkill](cognitive-search-skill-shaper.md)

Reference (REST APIs)
  - [Create Skillset](ref-create-skillset.md)
  - [Create Data Source](ref-create-data-source.md)
  - [Create Index](ref-create-index.md)
  - [Create Indexer](ref-create-indexer.md)
  - [Data type map for indexers](ref-data-type-map-for-indexers-in-azure-search.md)
  - [Field mappings in Azure Search indexers](ref-search-indexer-field-mappings.md)

## API (REST only)

Currently, only REST is available, but the .NET SDK is expected to follow shortly after the feature officially moves into public preview. Support for .NET will be announced as a service update. It will also be announced on this page if you want to check back later.

Use `api-version=2017-11-11-Preview` on all requests. Use the following APIs to build a cognitive search solution.

| API | Description |
|-----|-------------|
| [Create Data Source](ref-create-data-source.md)  | A resource identifying an external data source providing source data used to create enriched documents.  |
| [Create Skillset](ref-create-skillset.md)  | A resource coordinating the use of [predefined skills](cognitive-search-predefined-skills.md) and [custom cognitive skills](cognitive-search-custom-skill-interface.md) used in an enrichment pipeline during indexing. |
| [Create Index](ref-create-index.md)  | A schema expressing an Azure Search index. Fields in the index map to fields in source data or to fields manufactured during the enrichment phase (for example, a field for organization names created by entity recognition). |
| [Create Indexer](ref-create-indexer.md)  | A resource defining components used during indexing: including a data source, a skillset, field associations from source and intermediary data structures to target index, and the index itself. Running the indexer is the trigger for data ingestion and enrichment. The output is a search corpus based on the index schema, populated with source data, enriched through skillsets.  |
| [Reset Indexer](https://docs.microsoft.com/rest/api/searchservice/reset-indexer) | A command for rebuilding an index. Because pipeline development is an iterative process, plan for frequent index rebuilds.

## Next steps

+ [Quickstart: Try cognitive search](cognitive-search-quickstart-blob.md)
+ [Tutorial: Enriched indexing of Azure blob content](cognitive-search-tutorial-blob.md)
+ [Example: creating a custom skill](cognitive-search-create-custom-skill-example.md)
+ [How to create a skillset or augmentation pipeline](cognitive-search-defining-skillset.md)
+ [How to define a custom interface](cognitive-search-custom-skill-interface.md)