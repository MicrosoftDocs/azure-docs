---
title: Use the Azurite storage emulator for development and testing | Microsoft Docs
description: The Azurite storage emulator provides a free local environment for testing your Azure Storage applications. Learn how requests are authorized, how to connect to the emulator from your application, and how to use the command-line tool.
services: storage
author: mhopkins-msft

ms.service: storage
ms.topic: article
ms.date: 06/10/2019
ms.author: mhopkins
ms.subservice: common
---

# Use the Azurite storage emulator for testing

The Azurite storage emulator provides a local environment that emulates the Azure Blob, Queue, and Table services for development purposes. Using Azurite, you can test your application against the storage services locally, without creating an Azure subscription or incurring any costs. When you're satisfied with how your application is working in the emulator, you can switch to using an Azure storage account in the cloud.

Azurite is an open source Azure Storage API compatible emulator. Based on Node.js, Azurite provides cross platform experiences for developers wanting to easily try Azure Storage in a local environment. Azurite simulates most of the commands supported by Azure Storage with minimal dependencies.

Azurite v2 is manually created with pure JavaScript, popular and active as an open source project. However, Azure Storage APIs are growing and keeping updating, manually keeping Azurite up to date is not efficient and is prone to bugs. JavaScript also lacks strong type validation which prevents easy collaboration.

Azurite v3 implements a new architecture leveraging code generated by a TypeScript Server Code Generator we created. The generator uses the same swagger (modified) used by the new Azure Storage SDKs. This reduces manual effort and facilitates better code alignment with the Azure Storage APIs.

## Get Azurite version 3

### Prerequisites

* [GitHub account](https://github.com)
* [Git](https://git-scm.com/)
* [Node.js](https://nodejs.org)

### Installing the emulator

To get the Azurite emulator on your local system, clone the GitHub repository for the project by using the following console command.

```console
git clone https://github.com/Azure/Azurite.git
```

After cloning source code, execute following commands to install and start Azurite v3.

```console
npm install
npm run build
npm install -g
azurite
```

## Running Azurite

In order to run Azurite v3 you need Node.js >= 8.0 installed on your system. Azurite works cross-platform on Windows, Linux, and OS X.

After installation you can install Azurite simply with npm which is the Node.js package management tool included with every Node.js installation.

```console
npm install -g azurite
```

Simply start it with the following command:

```console
azurite -s -l c:\azurite -d c:\azurite\debug.log
```

or,

```console
azurite --silent --location c:\azurite --debug c:\azurite\debug.log
```

This tells Azurite to store all data in a particular directory **c:\azurite**. If the **-l** option is omitted it will use the current working directory. You can also selectively start different storage services.

For example, to start blob service only:

```console
azurite-blob -l path/to/azurite/workspace
```

### Command line syntax

```console
azurite [--blobHost <IP address>] [--blobPort <port address>] [-l | --location <workspace path>] [-s | --silent] [-d | --debug <log file path>]
```

## Supported command line options

### Listening host configuration

**Optional** By default, Azurite v3 will listen to 127.0.0.1 as a local server.
You can customize the listening address per your requirements.

#### Only accept requests in the local machine

```console
--blobHost 127.0.0.1
```

#### Allow accepting requests from remote (potentially unsafe)

```console
--blobHost 0.0.0.0
```

### Listening port configuration

**Optional** By default, Azurite v3 will listen to 10000 as blob service port.
You can customize the listening port per your requirements.

> [!WARNING] 
> After using a customized port, you need to update connection string or configurations correspondingly in your Storage Tools or SDKs.

#### Customize Blob Service listening port

```console
--blobPort 8888
```

#### Let system auto select an available port

```console
--blobPort 0
```

Note: The port in use is displayed on Azurite startup.

### Workspace path configuration

**Optional** Azurite v3 needs to persist metadata and binary data to local disk during execution.

You can provide a customized path as the workspace location, or by default, Current process working directory will be used.

```console
-l c:\azurite
--location c:\azurite
```

### Access log configuration

**Optional** By default Azurite will display access log in console. **Disable** it by:

```console
-s
--silent
```

### Debug log configuration

**Optional** Debug log includes detailed information on every request and exception stack traces.  
Enable it by providing a valid local file path for the debug log destination.

```console
-d path/debug.log
--debug path/debug.log
```

### Command line options differences between Azurite v2

Azurite v3 supports SharedKey, Account Shared Access Signature (SAS), Service SAS and Public Container Access authentications, you can use any Azure Storage SDKs or tools like Storage Explorer to connect Azurite v3 with any authentication strategy.

An option to bypass authentication is **NOT** provided in Azurite v3.

## Usage with Azure Storage SDKs and tools

### Default Storage Account

Azurite v3 provides support for a default storage account as General Storage Account v2 and associated features.

* Account name: `devstoreaccount1`
* Account key: `Eby8vdM02xNOcqFlqUwJPLlmEtlCDXJ1OUzFT50uSRZ6IFsuFq2UVErCz4I6tq/K1SZFPTOtr/KBHBeksoGMGw==`

> [!NOTE]
>  Besides SharedKey authentication, Azurite v3 supports account and service SAS authentication. Anonymous access is also available when container is set to allow public access.

### Connection string

Typically you can pass following connection strings to SDKs or tools (like Azure CLI2.0 or Storage Explorer)

Take blob service as example, full connection string is:

```
DefaultEndpointsProtocol=http;AccountName=devstoreaccount1;AccountKey=Eby8vdM02xNOcqFlqUwJPLlmEtlCDXJ1OUzFT50uSRZ6IFsuFq2UVErCz4I6tq/K1SZFPTOtr/KBHBeksoGMGw==;BlobEndpoint=http://127.0.0.1:10000/devstoreaccount1;
```

Or if the SDK or tools support following short connection string:

```
UseDevelopmentStorage=true;
```

### Storage Explorer

Connect to Azurite by click "Add Account" icon, then select "Attach to a local emulator" and click "Connect".

## Differences between Azurite and Azure Storage

Because Azurite runs as a local instance for persistent data storage, there are differences in functionality between Azurite and an Azure storage account in the cloud.

### Storage accounts

Azurite v3 supports a default account as General Storage Account v2 and provides features.

* Account name: `devstoreaccount1`
* Account key: `Eby8vdM02xNOcqFlqUwJPLlmEtlCDXJ1OUzFT50uSRZ6IFsuFq2UVErCz4I6tq/K1SZFPTOtr/KBHBeksoGMGw==`

### Endpoint and connection URL

The service endpoints for Azurite are different from those of an Azure storage account. The difference is because the local computer does not perform domain name resolution, requiring Azurite endpoints to be local addresses.

When you address a resource in an Azure storage account, use the following scheme. The account name is part of the URI host name, and the resource being addressed is part of the URI path:

```http
<http|https>://<account-name>.<service-name>.core.windows.net/<resource-path>
```

For example, the following URI is a valid address for a blob in an Azure storage account:

```http
https://myaccount.blob.core.windows.net/mycontainer/myblob.txt
```

However, because the local computer does not perform domain name resolution, the account name is part of the URI path instead of the host name. Use the following URI format for a resource in Azurite:

```http
http://<local-machine-address>:<port>/<account-name>/<resource-path>
```

For example, the following address might be used for accessing a blob in Azurite:

```http
http://127.0.0.1:10000/myaccount/mycontainer/myblob.txt
```

The service endpoints for Azurite blob service:

```http
http://127.0.0.1:10000/<account-name>/<resource-path>
```

### Scalability and performance

Azurite is not a scalable storage service and does not support many concurrent clients. There is also no performance or TPS guarantee, they highly depend on the environments Azurite has deployed.

### Error handling

Azurite tries to align with Azure Storage error handling logic and provides best-efforts alignment based on Azure Storage online documentation. But CANNOT provide 100% alignment, such as error messages (returned in error response body) maybe different (while error status code will align).

### API version strategy

Azurite v3 follows a **Try best to serve** compatible strategy with Azure Storage API versions:

* An Azurite v3 instance has a baseline Azure Storage API version.
  * A Swagger definition (OpenAPI doc) with the same API version will be used to generate protocol layer APIs and interfaces.
  * Azurite should implement all the possible features provided in this API service version.
* If an incoming request has **the same API version** Azurite provides, Azurite should handle the request with parity to Azure Storage.
* If an incoming request has a **higher API version** than Azurite, Azurite will return a VersionNotSupportedByEmulator error (HTTP status code 400 - Bad Request).
* If an incoming request has a **lower API version** header than Azurite, Azurite will attempt to handle the request with Azuriteâ€™s baseline API version behavior instead of that specified in the request.
* Azurite will return API version in response header as the baseline API version
* SAS accepts pattern from API version 2015-04-05

### RA-GRS

Azurite supports read-access geo-redundant replication (RA-GRS). For storage resources both in the cloud and in the local emulator, you can access the secondary location by appending -secondary to the account name. For example, the following address might be used for accessing a blob using the read-only secondary in Azurite:

```
http://127.0.0.1:10000/devstoreaccount1-secondary/mycontainer/myblob.txt
```

## Differences between Azurite v3 and Azurite v2

Both Azurite v3 and Azurite v2 aim to provide a convenient emulation for customers to quickly try out Azure Storage services locally. There are lots of differences between Azurite v3 and legacy Azurite v2.

### Architecture

The Azurite v3 architecture has been refactored. It's now more flexible and robust. Azurite v3 provides the flexibility to support following scenarios in the future:

* Use other HTTP frameworks instead of express.js
* A customized new handler layer implementation, such as redirecting requests to Azure Storage services
* Implement and inject a new persistency layer implementation, such as one based on a different database service
* Provide support for multiple azure storage accounts and authentication
* Detailed debug logging for easy issue investigation and request tracking
* Create an HTTPS server

### Server code generator

Azurite v3 leverages a TypeScript server code generator based on Azure Storage REST API swagger specifications. This reduces manual efforts and ensures alignment with the API implementation.

### TypeScript

Azurite v3 was created using TypeScript. This facilitates broad collaboration, while also ensuring quality.

### Features scope

Legacy Azurite v2 supports Azure Storage Blob, Queue and Table services. Azurite v3 currently supports the Azure Storage Blob Service, with Queue support scheduled to follow soon. Azure Table Service support is currently under discussion.

Azurite v3 supports features from Azure Storage API version 2018-03-28, and will maintain parity with the latest API versions, in a more frequent update frequency than legacy Azurite v2.

## Support matrix

3.0.0-preview release targets **2018-03-28** API version **blob** service.  
Detailed support matrix:

* Supported Vertical Features
  * SharedKey Authentication
  * Shared Access Signature Account Level
  * Shared Access Signature Service Level (Not support response header override in service SAS)
  * Container Public Access
* Supported REST APIs
  * List Containers
  * Set Service Properties
  * Get Service Properties
  * Get Stats
  * Get Account Information
  * Create Container
  * Get Container Properties
  * Get Container Metadata
  * Set Container Metadata
  * Get Container ACL
  * Set Container ACL
  * Delete Container
  * Lease Container (Access control based on lease is partial support)
  * List Blobs
  * Put Blob (Create append blob is not supported)
  * Get Blob
  * Get Blob Properties
  * Set Blob Properties
  * Get Blob Metadata
  * Set Blob Metadata
  * Lease Blob (access control based on lease is partial support)
  * Snapshot Blob
  * Copy Blob (Only supports copy within same account in Azurite)
  * Abort Copy Blob (Only supports copy within same account in Azurite)
* Following features or REST APIs are NOT supported or limited supported in this release (will support more features per customers feedback in future releases)
  * OAuth authentication
  * Access control based on conditional headers, container/blob lease (lease control is limited supported)
  * CORS and Preflight
  * Static Website
  * Soft delete & Undelete Blob
  * Put Block from URL
  * Incremental Copy Blob
  * Create Append Blob, Append Block

## License

This project is licensed under MIT.

## We welcome contributions

> Go to the [GitHub project](https://github.com/Azure/Azurite/projects) page or [GitHub issues](https://github.com/Azure/Azurite/issues) for milestones and TODO items we are tracking for upcoming features and bug fixes.

We are currently working on Azurite v3 to implement the remaining Azure Storage REST APIs.  
We finished the basic structure and majority of features in Blob Storage, as can be seen in the support matrix.  
The detailed work items are also tracked in GitHub repository projects and issues.

Any contribution and suggestions for Azurite v3 is welcome, please goto `CONTRIBUTION.md` for detailed contribution guidelines. Alternatively, you can open GitHub issues voting for any missing features in Azurite v3.

Most contributions require you to agree to a
Contributor License Agreement (CLA) declaring that you have the right to, and actually do, grant us
the rights to use your contribution. For details, visit <https://cla.microsoft.com.>

When you submit a pull request, a CLA-bot will automatically determine whether you need to provide
a CLA and decorate the PR appropriately (e.g., label, comment). Simply follow the instructions
provided by the bot. You will only need to do this once across all repos using our CLA.

This project has adopted the [Microsoft Open Source Code of Conduct](https://opensource.microsoft.com/codeofconduct/).
For more information see the [Code of Conduct FAQ](https://opensource.microsoft.com/codeofconduct/faq/) or
contact [opencode@microsoft.com](mailto:opencode@microsoft.com) with any additional questions or comments.

## Next steps

* [Azure Storage samples using .NET](../storage-samples-dotnet.md) contains links to several code samples you can use when developing your application.
