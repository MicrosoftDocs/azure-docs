---
title: Azure SignalR Local Emulator for serverless development
description: Learn how to use Azure SignalR Local Emulator for serverless development
author: vicancy
ms.service: signalr
ms.topic: how-to
ms.date: 12/20/2023
ms.author: lianwei 
---

# Use Azure SignalR Local Emulator for serverless development

When developing serverless applications, we provide an Azure SignalR Local Emulator to make the local development and integration easier. The emulator works only for serverless scenarios, for *Default* mode that the Azure SignalR Service acts as a proxy, you can directly use self-host SignalR to do local development. Also note that emulator only works for **Transient** transport type (the default one) and doesn't support *Persistent* transport type.

## Features available
* Auth
* Latest Rest API support
* Upstream

## Walkthrough

We use [this serverless sample](https://github.com/Azure/azure-functions-signalrservice-extension/tree/3e87c3ce277265866ca9d0bf51bb9c7ecea39e14/samples/bidirectional-chat) to show how to use the emulator.

1. Clone the sample repo to local
    ```
    git clone https://github.com/Azure/azure-functions-signalrservice-extension.git
    cd azure-functions-signalrservice-extension/samples/bidirectional-chat
    ```

2. Install the emulator

    ```
    dotnet tool install  -g Microsoft.Azure.SignalR.Emulator
    ```
    Or update the emulator to the latest preview version if it's already installed:
    ```
    dotnet tool update -g Microsoft.Azure.SignalR.Emulator
    ```

3. Run the emulator `asrs-emulator` to list all the available commands

    :::image type="content" source="./media/signalr-howto-emulator/emulator-command-list.png" alt-text="Screenshot of the available commands for the emulator.":::

4. Init the default upstream settings using:
    ```
    asrs-emulator upstream init
    ```

    It creates a default `settings.json` into the current folder, with a default upstream `UrlTemplate` as `http://localhost:7071/runtime/webhooks/signalr`, which is the URL for SignalR's **local** function trigger:
    ```json
    {
    "UpstreamSettings": {
        "Templates": [
        {
            "UrlTemplate": "http://localhost:7071/runtime/webhooks/signalr",
            "EventPattern": "*",
            "HubPattern": "*",
            "CategoryPattern": "*"
        }
        ]
    }
    }
    ```

    You could edit the file to make the pattern more restricted, for example, change `HubPattern` from `*` to `chat`. When the file is modified, its change is hot-loaded into the emulator.

5. Start the emulator
    ```
    asrs-emulator start
    ```

    After the emulator is successfully started, it generates the ConnectionString to be used later, for example, the ConnectionString is `Endpoint=http://localhost;Port=8888;AccessKey=ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789ABCDEFGH;Version=1.0;` as the below screenshot shows.
    
    :::image type="content" source="./media/signalr-howto-emulator/emulator-command-running.png" alt-text="Screenshot of the emulator command is running.":::

    The emulator also provides advanced options when start, for example, you can use `asrs-emulator start -p 8999` to customize the port the emulator used. Type `asrs-emulator start --help` to check the options available.

6. Go into subfolder `csharp` and rename `local.settings.sample.json` to `local.settings.json`, use the ConnectionString generated by the emulator to fill into the value of the **AzureSignalRConnectionString** in your **local.settings.json**. Fill into `AzureWebJobsStorage` your storage connection string, for example, `UseDevelopmentStorage=true` when using storage emulator. Save the file and run the function in the `csharp` subfolder with `func start`.

    :::image type="content" source="./media/signalr-howto-emulator/local-function.png" alt-text="Screenshot of the local serverless function is running.":::

7. In the browser, navigate to `http://localhost:7071/api/index` to play with the demo.

    :::image type="content" source="./media/signalr-howto-emulator/local-chat.png" alt-text="Screenshot of the serverless chat demo is running.":::

## Next steps

In this article, you learn how to use SignalR Service in your applications. Check the following articles to learn more about SignalR Service.

> [!div class="nextstepaction"]
> [Azure SignalR Service internals](./signalr-concept-internals.md)

> [!div class="nextstepaction"]
> [Quickstart: Create a chat room by using SignalR Service](./signalr-quickstart-dotnet-core.md)
